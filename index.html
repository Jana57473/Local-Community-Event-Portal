<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Local Community Event Portal</title>
    <style>
        nav {
            background-color: #f0f0f0;
            padding: 10px;
        }

        nav a {
            margin-right: 15px;
            text-decoration: none;
            color: blue;
        }

        section {
            margin-top: 40px;
        }

    #welcomeBanner {
        background-color: #cceeff;
        padding: 20px;
        border: 1px solid #3399cc;
        margin-bottom: 20px;
    }

    .highlight {
        color: darkblue;
        font-size: 24px;
    }

    .imgBorder {
        border: 3px solid #333;
        border-radius: 8px;
        width: 150px;
        height: 100px;
    }

    table {
        margin-top: 30px;
        border-collapse: collapse;
        text-align: center;
        width: 100%;
    }

    td {
        padding: 15px;
    }

    caption {
        font-size: 20px;
        margin-bottom: 10px;
        font-weight: bold;
        color: darkgreen;
    }

form {
    margin-top: 30px;
    padding: 20px;
    border: 2px solid #ccc;
    width: 400px;
    background-color: #f9f9f9;
}

form label {
    display: block;
    margin-top: 10px;
    font-weight: bold;
}

form input, form select, form textarea {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    margin-bottom: 15px;
}

form button {
    padding: 10px 15px;
    background-color: #3399cc;
    color: white;
    border: none;
    cursor: pointer;
}

form output {
    display: block;
    margin-top: 15px;
    color: green;
    font-weight: bold;
}

#eventFee {
    color: darkgreen;
    font-weight: bold;
    margin-top: 10px;
}

#feedbackImage {
    width: 150px;
    transition: 0.3s;
}

#feedbackImage.enlarged {
    width: 300px;
}

#charCount {
    font-size: 14px;
    color: gray;
}

#videoSection {
    margin-top: 40px;
    padding: 15px;
    background-color: #e0f7fa;
    border: 1px solid #33b5e5;
}

#videoMessage {
    margin-top: 10px;
    font-weight: bold;
    color: green;
}

#preferences {
    margin-top: 40px;
    background-color: #f2f2f2;
    padding: 20px;
    border: 1px dashed #666;
}

#preferences label,
#preferences select,
#preferences button {
    display: block;
    margin-top: 10px;
}

#geoSection {
    margin-top: 40px;
    background-color: #fff8e1;
    padding: 20px;
    border: 2px dotted #ff9800;
}

#locationResult {
    margin-top: 15px;
    font-weight: bold;
    color: #ff5722;
}


    </style>
</head>
<body>

    <!-- Navigation -->
    <nav>
        <a href="#home">Home</a>
        <a href="#events">Events</a>
        <a href="#contact">Contact</a>
        <a href="help.html" target="_blank">Help</a>
    </nav>

    <!-- Welcome Banner -->
    <div id="welcomeBanner">
        <h2 class="highlight">Welcome, Janarthanan!</h2>
        <p>You are successfully logged in.</p>
        <p><span style="color: red; font-weight: bold;">Special Offer:</span> Register for 2 events and get a 50% discount!</p>
    </div>

    <!-- Image Gallery -->
<table>
    <caption>Community Event Highlights</caption>
    <tr>
        <td>
            <img src="https://via.placeholder.com/150x100" alt="Music Night" title="Music Night Event" class="imgBorder">
            <p>Music Night</p>
        </td>
        <td>
            <img src="https://via.placeholder.com/150x100" alt="Food Festival" title="Food Festival Event" class="imgBorder">
            <p>Food Festival</p>
        </td>
        <td>
            <img src="https://via.placeholder.com/150x100" alt="Dance Show" title="Dance Show Event" class="imgBorder">
            <p>Dance Show</p>
        </td>
    </tr>
    <tr>
        <td>
            <img src="https://via.placeholder.com/150x100" alt="Art Expo" title="Art Expo Event" class="imgBorder">
            <p>Art Expo</p>
        </td>
        <td>
            <img src="https://via.placeholder.com/150x100" alt="Health Camp" title="Health Camp Event" class="imgBorder">
            <p>Health Camp</p>
        </td>
        <td>
            <img src="https://via.placeholder.com/150x100" alt="Book Fair" title="Book Fair Event" class="imgBorder">
            <p>Book Fair</p>
        </td>
    </tr>
</table>

<!-- Event Registration Form -->
<h2>Register for an Event</h2>
<form id="eventForm" onsubmit="showConfirmation(event)">
    <label for="name">Name:</label>
    <input type="text" id="name" placeholder="Enter your name" required autofocus>

    <label for="email">Email:</label>
    <input type="email" id="email" placeholder="Enter your email" required>

    <label for="date">Event Date:</label>
    <input type="date" id="date" required>

    <label for="eventType">Event Type:</label>
    <select id="eventType" required>
        <option value="">Select an event</option>
        <option value="music">Music Night</option>
        <option value="food">Food Festival</option>
        <option value="art">Art Expo</option>
    </select>

    <label for="message">Message:</label>
    <textarea id="message" rows="4" placeholder="Any message for us?"></textarea>

    <button type="submit">Submit</button>
    <output id="confirmationMsg"></output>
</form>

<!-- Event Feedback Section -->
<h2>Event Feedback</h2>

<form id="feedbackForm">
    <label for="phone">Phone Number:</label>
    <input type="text" id="phone" placeholder="Enter phone number" onblur="validatePhone()" required>

    <label for="selectEvent">Choose Event:</label>
    <select id="selectEvent" onchange="showFee()">
        <option value="">--Choose--</option>
        <option value="music">Music Night</option>
        <option value="food">Food Festival</option>
        <option value="art">Art Expo</option>
    </select>

    <div id="eventFee"></div>

    <br>
    <img src="https://via.placeholder.com/150" id="feedbackImage" ondblclick="enlargeImage()" title="Double-click to enlarge">

    <br><br>
    <label for="feedback">Feedback:</label>
    <textarea id="feedback" rows="4" cols="30" onkeydown="countCharacters()"></textarea>
    <div id="charCount">Characters: 0</div>

    <br>
    <button type="button" onclick="submitFeedback()">Submit Feedback</button>
</form>

<!-- Video Invite Section -->
<div id="videoSection">
    <h2>Watch Our Promo Video</h2>
    <video id="promoVideo" width="400" controls oncanplay="showVideoReadyMessage()">
        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div id="videoMessage"></div>
</div>

<!-- Preferences Section -->
<div id="preferences">
    <h2>Save Your Preferred Event</h2>
    
    <label for="preferredEvent">Preferred Event Type:</label>
    <select id="preferredEvent" onchange="savePreference()">
        <option value="">--Choose--</option>
        <option value="music">Music Night</option>
        <option value="food">Food Festival</option>
        <option value="art">Art Expo</option>
    </select>

    <button onclick="clearPreferences()">Clear Preferences</button>
</div>

<!-- Geolocation Section -->
<div id="geoSection">
    <h2>Find Nearby Events</h2>
    <button onclick="findLocation()">Find Nearby Events</button>
    <div id="locationResult"></div>
</div>


    <!-- Home Section -->
    <section id="home">
        <h2>Home</h2>
        <p>Welcome to the community event portal.</p>
    </section>

    <!-- Events Section -->
    <section id="events">
        <h2>Events</h2>
        <p>Check out upcoming local events here.</p>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Contact</h2>
        <p>Email us at: support@community.org</p>
    </section>

<script>
    function showConfirmation(event) {
        event.preventDefault(); // prevent page reload
        const name = document.getElementById("name").value;
        document.getElementById("confirmationMsg").textContent =
            `Thank you, ${name}. Your registration has been received!`;
    }
</script>

<script>
    function validatePhone() {
        const phone = document.getElementById("phone").value;
        if (!/^\d{10}$/.test(phone)) {
            alert("Please enter a valid 10-digit phone number.");
        }
    }

    function showFee() {
        const event = document.getElementById("selectEvent").value;
        let fee = "";
        if (event === "music") fee = "â‚¹250";
        else if (event === "food") fee = "â‚¹300";
        else if (event === "art") fee = "â‚¹200";

        document.getElementById("eventFee").textContent = "Event Fee: " + fee;
    }

    function enlargeImage() {
        const img = document.getElementById("feedbackImage");
        img.classList.toggle("enlarged");
    }

    function countCharacters() {
        const feedback = document.getElementById("feedback").value;
        document.getElementById("charCount").textContent = "Characters: " + feedback.length;
    }

    function submitFeedback() {
        alert("Feedback submitted! Thank you.");
    }
</script>

<script>
    function showVideoReadyMessage() {
        document.getElementById("videoMessage").textContent = "ðŸŽ¬ Video ready to play!";
    }

    window.onbeforeunload = function (e) {
        const name = document.getElementById("name").value;
        if (name) {
            return "You have unsaved changes. Are you sure you want to leave?";
        }
    };
</script>

<script>
    // Save preference to localStorage
    function savePreference() {
        const selectedEvent = document.getElementById("preferredEvent").value;
        localStorage.setItem("preferredEvent", selectedEvent);
    }

    // Load preference on page load
    window.onload = function () {
        const savedEvent = localStorage.getItem("preferredEvent");
        if (savedEvent) {
            document.getElementById("preferredEvent").value = savedEvent;
        }
    };

    // Clear preferences
    function clearPreferences() {
        localStorage.removeItem("preferredEvent");
        sessionStorage.clear();
        alert("Preferences cleared!");
        document.getElementById("preferredEvent").value = "";
    }
</script>

<script>
    function findLocation() {
        const output = document.getElementById("locationResult");

        if (!navigator.geolocation) {
            output.textContent = "Geolocation is not supported by your browser.";
            return;
        }

        output.textContent = "Locating...";

        navigator.geolocation.getCurrentPosition(
            (position) => {
                const latitude = position.coords.latitude.toFixed(5);
                const longitude = position.coords.longitude.toFixed(5);
                output.textContent = `Your Coordinates: Latitude ${latitude}, Longitude ${longitude}`;
            },
            (error) => {
                switch (error.code) {
                    case error.PERMISSION_DENIED:
                        output.textContent = "User denied the request for Geolocation.";
                        break;
                    case error.POSITION_UNAVAILABLE:
                        output.textContent = "Location information is unavailable.";
                        break;
                    case error.TIMEOUT:
                        output.textContent = "The request to get user location timed out.";
                        break;
                    default:
                        output.textContent = "An unknown error occurred.";
                }
            },
            {
                enableHighAccuracy: true,
                timeout: 10000,
                maximumAge: 0
            }
        );
    }
</script>

</body>
</html>
